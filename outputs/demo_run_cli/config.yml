# srvar-toolkit demo configuration (CSV input)
#
# Run:
#   srvar validate config/demo_config.yaml
#   srvar run config/demo_config.yaml
#
# Notes:
# - This is a COMMENT-RICH template intended to be copied and edited.
# - The CLI expects a *CSV file with a date column* and numeric variable columns.
# - The config maps cleanly to srvar objects:
#     Dataset, ModelSpec, PriorSpec, SamplerConfig
#

data:
  # Path to the CSV.
  csv_path: "examples/data/example.csv"

  # Column name containing the observation dates.
  # This will be parsed to a pandas.DatetimeIndex and used for plotting.
  date_column: "date"

  # Optional date format string (pandas/strftime style). If omitted, pandas infers.
  # date_format: "%Y-%m-%d"

  # Ordered list of endogenous variables to include (must be columns in the CSV).
  # The order matters: it defines the column order used by the VAR.
  variables: ["r", "y"]

  # Drop rows with any missing values in selected variables.
  dropna: true

model:
  # VAR lag order (p). Must be >= 1.
  p: 4

  # Whether to include an intercept term.
  include_intercept: true

  # Effective lower bound (ELB) / shadow-rate augmentation.
  # Omit this block entirely to disable ELB.
  elb:
    enabled: true

    # ELB level (e.g., 0, -0.05, 0.125).
    bound: -0.05

    # Variables treated as censored at the bound.
    applies_to: ["r"]

    # Tolerance used to decide if an observation is "at the bound".
    tol: 1.0e-8

  # Diagonal stochastic volatility random walk (SVRW).
  # Omit this block entirely to disable SV.
  volatility:
    enabled: true

    # Small epsilon for log(e^2 + epsilon).
    epsilon: 1.0e-4

    # Priors for initial log-volatility and innovations.
    h0_prior_mean: 1.0e-6
    h0_prior_var: 10.0
    sigma_eta_prior_nu0: 1.0
    sigma_eta_prior_s0: 0.01

prior:
  # Prior family: "niw" (conjugate) or "ssvs" (spike-and-slab variable selection).
  family: "niw"

  # For NIW, choose one of:
  #   method: "default"   -> PriorSpec.niw_default
  #   method: "minnesota" -> PriorSpec.niw_minnesota (recommended)
  method: "minnesota"

  # Minnesota hyperparameters (optional; defaults are reasonable starting points).
  minnesota:
    lambda1: 0.1
    lambda2: 0.5
    lambda3: 1.0
    lambda4: 100.0

sampler:
  # Total Gibbs iterations / draws.
  draws: 2000

  # Burn-in iterations discarded.
  burn_in: 500

  # Keep every `thin`-th draw after burn-in.
  thin: 2

  # RNG seed for reproducibility.
  seed: 42

forecast:
  # Omit this block to disable forecasting.
  enabled: true

  # Forecast horizons (steps ahead). Internally simulates to max(horizons).
  horizons: [1, 4, 8, 12]

  # Number of predictive simulation paths.
  draws: 2000

  # Quantile levels to report.
  quantile_levels: [0.1, 0.5, 0.9]

output:
  # Output directory.
  out_dir: "outputs/demo_run"

  # Save compressed numpy artifacts.
  save_fit: true
  save_forecast: true

  # Save plots (requires matplotlib). Plots are stored in out_dir.
  save_plots: true

plots:
  # Which variables to produce plots for. Defaults to all dataset variables.
  variables: ["r"]

  # Quantile bands used in plot shading.
  bands: [0.1, 0.9]
